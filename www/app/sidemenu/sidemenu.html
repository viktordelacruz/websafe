<ion-side-menus enable-menu-with-back-views="false" ng-init="loadData()">

  <ion-side-menu-content>
    <ion-nav-bar class="bar header-title bar-dark">
      <ion-nav-back-button>
      </ion-nav-back-button>

      <ion-nav-buttons side="left">
        <button class="button button-icon button-clear ion-navicon" menu-toggle="left">
        </button>
      </ion-nav-buttons>
    </ion-nav-bar>
    <ion-nav-view name="menuContent"></ion-nav-view>
  </ion-side-menu-content>

  <!-- Left menu -->
  <ion-side-menu side="left" class="sidemenu-bgcolor">    
    <ion-header-bar class="bar bar-header bar-dark">      
      <h1 class="title" style="text-align: center"> Menu </h1>
    </ion-header-bar>

    <ion-content class="list" class="darkSide">
      <div ng-switch on="menu.option">
        <div ng-show="!showOptions">
          <div class="item item-icon item-icon-left item-borderless custom-btn" ng-click="(menu.option = 'websafe') && (showOptions = ! showOptions)"><i class="icon ion-map"></i> Assessment </div>
          <div class="item item-icon item-icon-left item-borderless custom-btn" ng-click="(menu.option = 'crit-sec') && (showOptions = ! showOptions)"><i class="icon ion-alert-circled"></i> Critical Facilities </div>          
          <div class="item item-icon item-icon-left item-borderless custom-btn" ng-click="(menu.option = 'about') && (showOptions = ! showOptions)"><i class="icon ion-information-circled"></i> About </div>          
        </div>

        <div class="item item-icon item-icon-left item-borderless custom-btn" ng-show="showOptions" ng-click="(menu.option = 'none') && (showOptions = !showOptions)"><i class="icon ion-android-arrow-back"></i> Back </div>

        <div ng-switch-when="websafe">
          <!-- WebSAFE -->
          <div>
            <div class="item menu-item item-borderless" style="padding-top: 20%">
              <ion-search-select options="locations" option-selected="locations.selected">
                <label class="item item-input-inset item-borderless item-icon item-icon-right search-mod" style="padding: 0px">
                  <div class="item-input-wrapper search-mod">
                    <i class="icon ion-ios-search menu-box"></i>
                    <input class="menu-box" style="padding-bottom: 3px" type="text" ng-model="locations.selected" placeholder="Search Locations" disabled>
                  </div>
                </label>
              </ion-search-select>
            </div>

            <ion-item class="item-borderless menu-item">
              <select class="menu-box" style="padding: 0px 0px 0px 3%" ng-model="locations.hazard" ng-change="floodChange()">              
                <option selected value="" disabled="true"> Select Hazard </option>
                <option value="flood_5">5-year Flood</option>
                <option value="flood_25">25-year Flood</option>
                <option value="flood_100">100-year Flood</option>
              </select>
            </ion-item>

            <ion-item class="item-borderless menu-item">
              <select class="menu-box" style="padding: 0px 0px 0px 3%" ng-model="locations.exposure" ng-change="layerChange()">
                <option selected value="" disabled="true"> Select Exposure </option>
                <option value="popn">Population</option>
                <option value="bldg">Buildings</option>
              </select>
            </ion-item>
                  
            <ion-item class="item-borderless menu-item">              
              <div class="question-box item-text-wrap">
                <p id="question" ng-init="(question.flood = '_____________') && (question.location = '_____________') && (question.entity = '__________') && (question.effect = '_____________')"> In the event of a <b> {{ question.flood }} </span> </b> in <b> {{ question.location }}</b>, how many <b> {{ question.entity }}</b> will  <b> {{ question.effect }}</b>? </p>
              </div>
              <button class="button button-positive button-block" style="float: center" ng-click="calculate()" menu-close> Display on Map </button>
            </ion-item>
          </div>      
        </div>

        <div ng-switch-when="crit-sec">
            <div style="padding-top: 10%">
              <div class="item item-borderless custom-btn" ng-click="criticalSchools()" menu-close> Schools </div>
              <div class="item item-borderless custom-btn" ng-click="criticalHealthFacilities()" menu-close> Health Facilities </div>
              <div class="item item-borderless custom-btn" ng-click="criticalPoliceStations()" menu-close> Police Stations </div>
              <div class="item item-borderless custom-btn" ng-click="criticalFireStations()" menu-close> Fire Stations </div>
            </div>
        </div>
        
        <div ng-switch-when="about">
          <div class="item item-borderless item-text-wrap">
            <p style="color: white;"> WebSAFE, an impact assessment tool based on InaSAFE, is a joint effort of Project NOAH and The World Bank. </p>
          </div>
        </div>
      </div>      

    </ion-content>
  </ion-side-menu>
</ion-side-menus>